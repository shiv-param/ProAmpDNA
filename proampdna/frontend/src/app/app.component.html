<!--The content below is only a placeholder and can be replaced.-->
<nav class="navbar navbar-dark bg-dark navigation-header">
  <div class="container-fluid">
    <a class="navbar-brand" href="/">ProAmpDNA</a>
    <div class="" id="navbarSupportedContent">
      <div class="form-inline my-2 my-lg-0">
        <button class="btn btn-light btn-sm" type="submit">About</button>
      </div>
    </div>
  </div>

</nav>

<div class="banner">
  <h1 class="page-header">Application</h1>
</div>

<div class="container-fluid">
  <div class="row justify-content-md-center">
    <div class="col-11 application">
      <div class="row">
        <div class="col-12 col-md-3">
          <div class="form-element">
            <div class="input-group mb-4">
              <input type="text" class="form-control" placeholder="Enter Species ID" aria-label="Enter Species ID" aria-describedby="species_id" [(ngModel)]="specie_id">
              <div class="input-group-append">
                <button class="btn btn-outline-info" type="button" (click)="fetchSpeciesData()">Load data</button>
              </div>
            </div>
            <small class="form-text text-muted codon-help-text" *ngIf="specie_data_loaded">
              Data loaded for <span>{{ specie_data.specie_id }}</span>. <a href="#" data-toggle="modal" data-target="#species_data_modal">View</a>
            </small>
            <div >
              <table class="table table-striped table-sm table-proampdna">
                <thead>
                  <tr>
                    <th scope="col">Triplet</th>
                    <th scope="col">Amino Acid</th>
                    <th scope="col">Frequency</th>
                    <th scope="col">Fraction</th>
                  </tr>
                </thead>
                <tbody class="species_data_wrap">
                  <tr *ngFor="let result of specie_data.specie_data">
                    <td>{{ result.triplet }}</td>
                    <td>{{ result.amino_acid }}</td>
                    <td>{{ result.frequency }}</td>
                    <td>{{ result.fraction }}</td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
          <div class="form-element">
            <label for="amino_acid_sequence">Amino acid sequence</label>
            <textarea class="form-control" id="amino_acid_sequence" rows="6" [(ngModel)]="amino_acid_sequence"></textarea>
          </div>
          <div class="form-element">
            <label for="primer_length">Primer length</label>
            <select class="form-control" id="primer_length" [(ngModel)]="primer_length">
              <option>3</option>
              <option>6</option>
              <option>9</option>
              <option>12</option>
              <option>15</option>
              <option>18</option>
              <option>21</option>
              <option>24</option>
              <option>27</option>
              <option>30</option>
            </select>
          </div>
          <div class="form-element">
            <label for="email">Email id (Optional)</label>
            <input type="text" class="form-control" id="email" aria-describedby="email" placeholder="Enter your email id" [(ngModel)]="email">
          </div>
          <div class="form-element">
            <button class="btn btn-info btn-block" (click)="runApp('')">Run Application</button>
          </div>
        </div>
        <div class="col-12 col-md-9" *ngIf="final_data_loaded">
          <div class="row">
            <div class="col-12 results-header">
              <span class="main-header">Results</span>
            </div>
            <div class="col-12 pagination-wrapper">
              <nav aria-label="Page navigation example" *ngIf="page_offsets.length != 0">
                <ul class="pagination pagination-sm justify-content-end">
                  <li class="page-item" [ngClass]="{'disabled': !previous}">
                    <a class="page-link" href="#" (click)="runApp(previous)">Previous</a>
                  </li>
                  <li class="page-item" *ngFor="let offset of page_offsets" [ngClass]="{'active': offset.selected}">
                    <a class="page-link" href="#" (click)="runApp(offset.url)">{{offset.page_number}}</a>
                  </li>
                  <li class="page-item" [ngClass]="{'disabled': !next}">
                    <a class="page-link" href="#" (click)="runApp(next)">Next</a>
                  </li>
                </ul>
              </nav>
            </div>
          </div>

          <table class="table table-bordered table-sm table-proampdna" *ngIf="final_data_loaded">
            <thead class="thead-dark">
              <tr>
                <th colspan="4">Amino acid sequence with least degenerate codons: <code>{{ least_degenerate_codon }}</code></th>
                <th colspan="2" class="text-right">Showing <code>{{ start_count }}</code>-<code>{{ end_count }}</code> of <code>{{ total_results }}</code></th>
              </tr>
              <tr>
                <th scope="col">Forward Primer (5' to 3')</th>
                <th scope="col">Reverse Primer (5' to 3')</th>
                <th scope="col">Frequency</th>
                <th scope="col">Length</th>
                <th scope="col">% GC</th>
                <th scope="col">Melting point</th>
              </tr>
            </thead>
            <tbody>
              <tr *ngFor="let result of result_data">
                <td>{{ result.forwardPrimer }}</td>
                <td>{{ result.reversePrimer }}</td>
                <td>{{ result.frequency }}</td>
                <td>{{ result.length }}</td>
                <td>{{ result.GCPerc }}</td>
                <td>{{ result.meltingPoint }}</td>
              </tr>
            </tbody>
            <tfoot>
              <tr>
                <th colspan="4">Amino acid sequence with least degenerate codons: <code>{{ least_degenerate_codon }}</code></th>
                <th colspan="2" class="text-right">Showing <code>{{ start_count }}</code>-<code>{{ end_count }}</code> of <code>{{ total_results }}</code></th>
              </tr>
            </tfoot>
          </table>
          <div class="row" *ngIf="final_data_loaded">
            <div class="col-12">
              <nav aria-label="Page navigation example" *ngIf="page_offsets.length != 0">
                <ul class="pagination pagination-sm justify-content-end">
                  <li class="page-item" [ngClass]="{'disabled': !previous}">
                    <a class="page-link" href="#" (click)="runApp(previous)">Previous</a>
                  </li>
                  <li class="page-item" *ngFor="let offset of page_offsets" [ngClass]="{'active': offset.selected}">
                    <a class="page-link" href="#" (click)="runApp(offset.url)">{{offset.page_number}}</a>
                  </li>
                  <li class="page-item" [ngClass]="{'disabled': !next}">
                    <a class="page-link" href="#" (click)="runApp(next)">Next</a>
                  </li>
                </ul>
              </nav>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="col-12">
      <div class="footer-wrap">
        <p><strong>&copy; ProAmpDNA</strong> - All Rights Reserved</p>
        <p>Developed and Maintained by <a href="https://github.com/shiv-param/">Shiv Prasad</a></p>
      </div>
    </div>
  </div>
</div>

<div class="modal fade" id="species_data_modal" tabindex="-1" role="dialog" aria-labelledby="species_data_modal_title" aria-hidden="true" *ngIf="specie_data_loaded">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="species_data_modal_title">{{ specie_data.specie_head }}</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">

      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
      </div>
    </div>
  </div>
</div>
